<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>{{ title }}</title>

  {% block icon %}
    <link rel="icon" type="image/png" href="{{ url_for('static', filename='icons/default.png') }}">
  {% endblock %}

  <style>
    body {
      font-family: Inter, ui-sans-serif, system-ui; 
      background:var(--bg); 
      color: var(--text);
      transition: background 0.9s ease, color 0.9s ease, opacity 0.9s ease;
      opacity: 1;
      margin: 0; 
      padding: 2rem;
    }

    body.dark {
      --bg: #0b1220;
      --card: #111827;
      --text: #e5e7eb;
      --muted: #9ca3af;
      --accent: #60a5fa;
      transition: background 0.7s ease, color 0.7s ease, opacity 0.7s ease;
      opacity: 0.6; 
    }

    /* fade-in smooth */
    body.fade-transition {
        transition: background 0.7s ease, color 0.7s ease, opacity 0.7s ease;
        opacity: 0.6;
    }

    .container {
      max-width:880px;
      margin:0 auto;
    }

    header {
      display:flex;
      align-items:center;
      gap:16px;
      margin-bottom:1.5rem;
    }

    .logo {
      width:56px;
      height:56px;
      border-radius:8px;
      background:linear-gradient(135deg,var(--accent),#06b6d4);
      display:flex;
      align-items:center;
      justify-content:center;
      color:white;
      font-weight:700;
    }
    
    h1 {
      font-size:1.5rem;
      margin:0;
    }

    nav a {
      color:var(--muted);
      text-decoration:none;
      margin-right: 1rem;
    }

    main {
      background:var(--card);
      padding:2rem;border-radius:12px;
      box-shadow:0 6px 18px rgba(2,6,23,0.06);
    }

    .meta {
      color: var(--muted);
      font-size: 0.95rem;
      margin-bottom: 1rem;
    }

    pre {
      background: #0b1220;
      color: #e6eef8;
      padding: 1rem;
      border-radius: 8px;
      overflow: auto;
    }
    code {
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, "Roboto Mono", "Courier New";
    }

    .lesson-list {
      display: flex;
      flex-direction: column;
      gap: 0.6rem;
    }

    .lesson-item {
      padding: 0.8rem;
      border-radius: 8px;
      border: 1px solid #eef2ff;
    }

    a.button {
      display: inline-block;
      padding: 0.5rem 0.9rem;
      border-radius: 8px;
      background: var(--accent);
      color: white;
      text-decoration: none;
    }

    footer {
      margin-top: 1.5rem;
      color: var(--muted);
      font-size: 0.9rem;
    }
  </style>
  <link rel="stylesheet" type="text/css" href="{{url_for('static', filename='styles/style_theme.css')}}">
  <link rel="stylesheet" type="text/css" href="{{url_for('static', filename='styles/style.css')}}">
  <link rel="icon" type="image/png" href="icons/blog.png">
  <script src="https://unpkg.com/image-map-resizer@1.0.10/js/imageMapResizer.min.js"></script>
</head>
<body>
  <div class="container">
    <header>
      <div class="logo aurora-input">CALM</div>
      <div>
        <h1>Calm-Style Lessons</h1>
        <div class="meta">LecÈ›ii scurte. ProgrameazÄƒ. Clar. Calm. Coerent. Corelat. Relaxat. Degajat</div>
      </div>
      <nav class="aurora-nav aurora-input" style="margin-left:auto">
        <a href="{{ url_for('index') }}" class="aurora-button">Home</a>
        <a href="{{ url_for('about') }}" class="aurora-button">Despre</a>
        <a href="{{ url_for('blog') }}" class="aurora-button">Blog</a>
        <a href="{{ url_for('contact') }}" class="aurora-button">Contact</a>
        <a href="{{ url_for('faq') }}" class="aurora-button">FAQ</a>
        <a href="{{ url_for('services') }}" class="aurora-button">Servicii</a>
      </nav>
      <button id="theme-toggle" class="theme-button">
          ðŸŒ“
      </button>
    </header>

    <main class="aurora-label">
      {% block content %}{% endblock %}
    </main>

    
    <aside class="sidebar">
      <div id="theme-sidebar">
        <div class="sidebar-header">
          <h2>Teme</h2>
          <button id="close-sidebar" class="close-btn">Ã—</button>
        </div>

        <label class="aurora-label" for="palette-picker">Alege tema:</label>
        <select id="palette-picker" class="aurora-select aurora-input">
          <option value="ocean">Ocean</option>
          <option value="sunset">Sunset</option>
          <option value="forest">Forest</option>
          <option value="darkness">Dark</option>
          <option value="galaxy">Galaxy</option>
          <option value="sun">Sun</option>
          <option value="mercury">Mercury</option>
          <option value="venus">Venus</option>
          <option value="earth">Earth</option>
          <option value="mars">Mars</option>
          <option value="jupiter">Jupiter</option>
          <option value="saturn">Saturn</option>
          <option value="uranus">Uranus</option>
          <option value="neptune">Neptune</option>
          <option value="pluto">Pluto</option>
          <option value="blossem">Blossem</option>
          <option value="sakura">Sakura</option>
          <option value="hitachi">Hitachi</option>
        </select>
      </div>

      <button id="generate-palette" class="aurora-button">GenereazÄƒ PaletÄƒ</button>

      <div>
          <label id="prompt_label" class="aurora-label" for="prompt">ðŸ”Ž</label>
          <input id="prompt" class="aurora-input" placeholder="scrie stilul... ex: night cyberpunk">
          <button id="ai-generate" class="aurora-button">AI Palette</button>
      </div>

      <div class="ai-palette-ui" style="display:flex;gap:8px;align-items:center;">
          <label id="ai-prompt_label" class="aurora-label" for="ai-prompt">âœ¨</label>
          <input id="ai-prompt" placeholder="ex: night cyberpunk, pastel calm" class="aurora-input">
          <button id="ai-gen-btn" class="aurora-button">AI Palette PRO</button>
      </div>

      <!-- preview -->
      <div id="ai-palette-preview" style="display:flex;gap:8px;margin-top:.6rem"></div>
    </aside>

    <footer class="system-footer">
      <div class="footer-flex">


          <section class="image-side-content" width="120px">
            <button id="open-sidebar" class="aurora-button" alt="Settings and properties menu CALM">
              <img src="{{ url_for('static', filename='icons/combo.png') }}" style="height: 30px">
            </button>
          </section>

          <section class="footer-text">
            <p>Â© 2025 â€” stil inspirat de 
              <a href="https://calmcode.io" target="_blank">calmcode.io</a>
            </p>
            <p>Created by Alin RoÈ™ca  Â© 2025 
            </p>
          </section>


        </div>
    </footer>
  </div>
  <script>
    const evtSource = new EventSource("/livereload");
    evtSource.onmessage = function(e) {
        if (e.data === "reload") {
            console.log("ðŸ”„ Live reload triggered");
            location.reload();
        }
    };

    const sidebar = document.getElementById("theme-sidebar");
    const openBtn = document.getElementById("open-sidebar");
    const closeBtn = document.getElementById("close-sidebar");

    openBtn.addEventListener("click", () => {
        sidebar.classList.add("open");
    });

    closeBtn.addEventListener("click", () => {
        sidebar.classList.remove("open");
    });

    // ÃŽnchidere dacÄƒ faci click Ã®n afara meniului
    document.addEventListener("click", (e) => {
        if (!sidebar.contains(e.target) && !openBtn.contains(e.target)) {
            sidebar.classList.remove("open");
        }
    });
  </script>
  
  <script type="text/javascript" src="{{url_for('static', filename='scripts/dark_smart_mode.js')}}"></script>
  <script type="text/javascript" src="{{url_for('static', filename='scripts/generate_palete.js')}}"></script>
  <script type="text/javascript" src="{{url_for('static', filename='scripts/theme_engine.js')}}"></script>
  <script type="text/javascript" src="{{url_for('static', filename='scripts/ai_palettes.js')}}"></script>
  <script type="text/javascript" src="{{url_for('static', filename='scripts/ai_apply_palettes.js')}}"></script>
</body>
</html>